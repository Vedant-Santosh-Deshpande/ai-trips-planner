import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY; 
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseModalities: [],
  responseMimeType: "application/json",
};


 export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          { text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format." },
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway: 3 Days for Couples\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"dates\": \"Example: October 26-28, 2023 (Adjust accordingly)\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $80 per night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/33/62/2a/main-entrance.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1368,\n        \"longitude\": -115.1658\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic, budget-friendly option on the Strip. Features the Adventuredome theme park (separate cost), free circus acts, and multiple dining options.  Rooms are basic but functional.\",\n        \"amenities\": [\"Pool\", \"Casino\", \"Free Circus Acts\", \"Restaurants\", \"Adventuredome Theme Park (extra cost)\"]\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40 - $90 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/3c/59/35/exterior.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1474,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers incredible views from the Stratosphere Tower. Rooms are reasonably priced, and there's a casino and dining options. Consider paying extra for tower access. Further away from the center of the Strip, requiring some transportation.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Stratosphere Tower (extra cost)\", \"Restaurants\", \"Thrill Rides (extra cost)\"]\n    },\n      {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $85 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/fa/86/78/excalibur-hotel-casino.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0986,\n        \"longitude\": -115.1745\n      },\n      \"rating\": 3.7,\n      \"description\": \"A medieval-themed hotel at the south end of the Strip. Offers affordable rooms, a casino, and various dining options. Easy access to other MGM properties.\",\n        \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Tournament of Kings Dinner Show (extra cost)\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End) & Free Attractions\",\n      \"bestTimeToVisit\": \"Late Morning to Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign at the south end of the Strip. A must-do photo op!\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Las_Vegas_Sign_at_Night.jpg/1280px-Las_Vegas_Sign_at_Night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0853,\n            \"longitude\": -115.1732\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Taxi/Ride Share: ~10 mins from Circus Circus, ~5 from Excalibur. Deuce Bus: ~20-30 mins from Circus Circus\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays inside the Bellagio. Free to enter.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Bellagio_Conservatory_Christmas_2013.jpg/1280px-Bellagio_Conservatory_Christmas_2013.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1763\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeToTravel\": \"Walking: ~20 mins from the Welcome Sign. Deuce Bus: Short ride from Welcome Sign area.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular water show choreographed to music. Free to watch. Shows every 30 mins (daytime) and 15 mins (evening).\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Fountains_of_Bellagio_%282993921954%29.jpg/1280px-Fountains_of_Bellagio_%282993921954%29.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"timeToTravel\": \"Adjacent to the Conservatory.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, people-watch, and window shop.  Enjoy the free street performers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Las_Vegas_Strip_at_night.jpg/1280px-Las_Vegas_Strip_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"timeToTravel\": \"Ongoing throughout the day.\"\n        },\n        {\n          \"placeName\": \"M&M's World & Coca-Cola Store\",\n          \"placeDetails\": \"Multi-story themed stores with free samples and photo opportunities.  Good for a quick visit.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/M%26Ms_World_Las_Vegas_Exterior.jpg/1280px-M%26Ms_World_Las_Vegas_Exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1083,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free entry (purchases optional)\",\n          \"rating\": 4.0,\n          \"timeToTravel\": \"Walking distance from Bellagio/central Strip.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas (Fremont Street) & Budget Entertainment\",\n      \"bestTimeToVisit\": \"Afternoon to Late Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light show on a giant LED canopy. Free to watch.  Live music and street performers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Fremont_Street_Experience_Viva_Vision_2013.jpg/1280px-Fremont_Street_Experience_Viva_Vision_2013.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeToTravel\": \"Deuce Bus: ~30-45 mins from the Strip. Ride Share/Taxi: ~15-20 mins.\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"Zip line experience over Fremont Street (optional, extra cost).\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2018/09/slotzilla-at-fremont-street-experience-compressor.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1707,\n            \"longitude\": -115.1428\n          },\n          \"ticketPricing\": \"$39-$59 (Optional)\",\n          \"rating\": 4.2,\n          \"timeToTravel\": \"Located on Fremont Street.\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique outdoor shopping and dining area made from shipping containers. Live entertainment. Free entry.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Downtown_Container_Park.jpg/1280px-Downtown_Container_Park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1677,\n            \"longitude\": -115.1401\n          },\n          \"ticketPricing\": \"Free (purchases optional)\",\n          \"rating\": 4.3,\n          \"timeToTravel\": \"Short walk from Fremont Street.\"\n        },\n         {\n          \"placeName\": \"Binion's Gambling Hall\",\n          \"placeDetails\": \"Old style casino with low table minimums and free photos with $1 million on display.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Binions_in_2005.JPG/1280px-Binions_in_2005.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1705,\n            \"longitude\": -115.1432\n          },\n          \"ticketPricing\": \"Free (Gambling Cost Extra)\",\n          \"rating\": 4.0,\n          \"timeToTravel\": \"Located on Fremont Street.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring the Strip (North End) & Relaxation\",\n      \"bestTimeToVisit\": \"Morning to Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"The Venetian & The Palazzo\",\n          \"placeDetails\": \"Explore the canals of Venice replica at The Venetian. Window shop at the Grand Canal Shoppes. Stroll through The Palazzo's elegant lobby.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/The_Venetian_%26_The_Palazzo.jpg/1280px-The_Venetian_%26_The_Palazzo.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1716\n          },\n          \"ticketPricing\": \"Free (Gondola rides extra)\",\n          \"rating\": 4.7,\n          \"timeToTravel\": \"Deuce Bus: Short ride from central Strip. Walking: ~15-20 mins from Bellagio.\"\n        },\n         {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Volcano show that erupts with fire and smoke. Free to watch. Shows run nightly.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Mirage_Volcano_2011.jpg/1280px-Mirage_Volcano_2011.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1206,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Walking Distance from The Venetian\"\n        },\n        {\n          \"placeName\": \"LINQ Promenade & High Roller Observation Wheel (Optional)\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district. The High Roller offers panoramic views (optional, extra cost).\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/The_LINQ_High_Roller.jpg/1280px-The_LINQ_High_Roller.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1161,\n            \"longitude\": -115.1703\n          },\n          \"ticketPricing\": \"Free (High Roller Extra)\",\n          \"rating\": 4.4,\n          \"timeToTravel\": \"Walking Distance from The Venetian/Mirage.\"\n        },\n         {\n          \"placeName\": \"Pool Time\",\n          \"placeDetails\": \"Relax by the hotel pool.  Most hotels offer free pool access to guests.\",\n          \"placeImageUrl\": \"https://www.reviewjournal.com/wp-content/uploads/2023/06/18536941_web1_IMG_5400.jpg?w=1200\",\n          \"geoCoordinates\": {\n            \"latitude\": null,\n            \"longitude\": null\n          },\n          \"ticketPricing\": \"Free (For Hotel Guests)\",\n          \"rating\": 4.2,\n          \"timeToTravel\": \"Hotel Location\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Utilize the Deuce bus for transportation on the Strip and to Downtown.\",\n    \"Look for free activities and attractions.\",\n    \"Take advantage of happy hour deals for drinks and appetizers.\",\n    \"Consider bringing your own snacks and drinks to avoid high prices.\",\n    \"Compare hotel prices and book in advance for better deals.\",\n    \"Look for coupons and discounts online or in tourist brochures.\",\n      \"Avoid gambling with large amounts of money.\"\n  ],\n  \"notes\": \"This itinerary is a suggestion and can be customized to your interests. Prices are approximate and subject to change. Always check websites for the latest information.\"\n}\n```\n\n**Key Budget Considerations:**\n\n*   **Accommodation:** I've suggested hotels known for being relatively affordable. Prices vary greatly depending on the season, day of the week, and availability. Book well in advance for the best rates.\n*   **Transportation:** The Deuce bus is your best friend for budget travel on the Strip and to Downtown. Ride-sharing services can be convenient but add up quickly. Walking is also a great way to explore.\n*   **Food:** Avoid eating every meal in the casinos or restaurants on the Strip. Look for fast-food options, food courts, or consider buying groceries for some meals. Happy hour specials can save you money on drinks and appetizers.\n*   **Activities:** Focus on free attractions like the Bellagio fountains, the Conservatory, Fremont Street Experience, and walking the Strip. If you want to gamble, set a strict budget and stick to it.\n*   **Shows:** Many shows are very expensive. Look for discounted tickets or consider free entertainment like street performers.\n\nRemember to check the official websites of the attractions and hotels for the most up-to-date information, hours, and pricing. Enjoy your trip to Vegas!\n"},
        ],
      },
    ],
  });
